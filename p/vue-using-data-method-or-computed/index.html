<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="在 Vue 中 data, method, computed 的使用時機"><title>在 Vue 中 data, method, computed 的使用時機 - Sayoko123f</title><link href=/css/output.min.c4693ba68e9ecf89a2003aee7767c665b633b7af354308c30bf4572b43a5588c.css rel=stylesheet><script src=/js/devblog.min.a33f45493dcfb1bd5d05eefcfbdc20ae2e6c793c0937d22bf03fddbe18bbdc0b.js defer></script>
<script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script></head><body class="bg-gray-50 text-black dark:bg-[#121212] dark:text-gray-100"><header class="flex h-11 items-center border-b border-black/20 px-4 dark:border-white/40"><nav class="mx-auto flex w-full max-w-4xl justify-between"><ul class="flex gap-4"><li><a class=font-bold href=https://sayoko123f.github.io/>首頁</a></li><li><a class=font-bold href=https://sayoko123f.github.io/p/>文章列表</a></li><li><a class=font-bold href=https://sayoko123f.github.io/about/>關於</a></li><li><a class=font-bold href=https://sayoko123f.github.io/tags/>分類</a></li></ul><ul class="flex gap-4"><li class="h-6 w-6"><a href=https://github.com/Sayoko123f title=github><svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" viewBox="0 0 24 24"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></svg></a></li><li class="h-6 w-6"><button class=text-sky-500 aria-label="toggle light dark mode"><svg class="inline-block h-full w-full dark:hidden" id="light-mode-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/></svg><svg class="hidden h-full w-full dark:inline-block" id="dark-mode-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentcolor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg></button></li></ul></nav></header><div class="flex justify-center"><div class="hidden w-1/5 flex-grow lg:block"></div><div class="w-full max-w-2xl" id=content><main class=px-4><div class=py-4><div class=pb-2>2021年9月22日</div><div class="flex gap-1 flex-wrap"><a class="rounded bg-stone-200 dark:bg-stone-800 px-2 py-1" href=https://sayoko123f.github.io/tags/vue/>Vue</a></div></div><article class="prose max-w-none dark:prose-invert"><h1 id=在-vue-中-data-method-computed-的使用時機>在 Vue 中 data, method, computed 的使用時機</h1><p><code>資料(Data)</code>和<code>方法(Method)</code>以及<code>計算屬性(computed)</code>是 Vue 物件中常常用來存放資料的地方，然而什麼時候該用哪一種，是在剛開始學的時候會疑惑的一個問題，以下對這三者做整理分析：</p><h2 id=比較>比較</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Example in component
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> () =&gt; ({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>nums</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>]
</span></span><span style=display:flex><span>    }),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>computed</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sumNums</span>() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nums</span>.<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>acc</span>, <span style=color:#a6e22e>cur</span>)=&gt; <span style=color:#a6e22e>acc</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>cur</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>methods</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>multNums</span>(<span style=color:#a6e22e>n</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nums</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>e</span>=&gt; <span style=color:#a6e22e>e</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>n</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=data-資料>Data 資料</h3><p>Data 物件很單純，適合用來放資料，以供後續其他地方使用。</p><h3 id=computed-計算屬性>Computed 計算屬性</h3><p>Computed 計算屬性比較特別，它的性質介於 Data 和 Method 之間，在宣告的時候它長得像函式，但使用的時候不用加小括號。</p><p>計算屬性的結果會被<strong>快取</strong>下來，直到它相依的資料有變動時，Vue 會幫我們重新計算。</p><p>計算屬性也可以寫成有一對取值器和設值器的物件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>computed</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sumNums</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>get</span>() {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>nums</span>.<span style=color:#a6e22e>reduce</span>((<span style=color:#a6e22e>acc</span>, <span style=color:#a6e22e>cur</span>)=&gt; <span style=color:#a6e22e>acc</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>cur</span>);
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>newVal</span>) {
</span></span><span style=display:flex><span>                <span style=color:#75715e>// do something...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>因為計算屬性的結果會被快取，如果計算式比較複雜或是不想一直編寫重複的算式，又不需要傳參數，這種時候使用計算屬性最有效率。</p><h3 id=method-方法>Method 方法</h3><p>如果<strong>要接收參數</strong>，那只有方法做得到，上面的例子中 multNums(n) 會回傳包含 nums 所有元素 n 倍的陣列，而 n 倍是動態的，所以沒辦法靠計算屬性預先計算，這種情況就是方法出場的最佳時機。</p><h3 id=整理>整理</h3><table><thead><tr><th>用誰</th><th>可寫</th><th>可接受參數</th><th>快取</th></tr></thead><tbody><tr><td>Data</td><td>可</td><td>否</td><td>否</td></tr><tr><td>Computed</td><td>可</td><td>否</td><td>有</td></tr><tr><td>Method</td><td>否</td><td>可</td><td>否</td></tr></tbody></table><h2 id=結語>結語</h2><p>這三者每一種都有各自適合的用法，彼此互相搭配、妥當的運用，才能發揮最大的效益。</p></article><div class="mt-8 border-t py-4"><div class="flex justify-between gap-8"><div class=w-1/2><a href=https://sayoko123f.github.io/p/javascript-onbeforeunload/>上一篇文章<br>JavaScript 在離開頁面之前詢問使用者是否要離開</a></div><div class="w-1/2 text-right"><a href=https://sayoko123f.github.io/p/php-echo-color/>下一篇文章<br>PHP echo 在命令列輸出彩色文字</a></div></div></div></main></div><div class="relative hidden w-1/5 flex-grow lg:block"><aside class="fixed mt-3 h-full max-h-[calc(100vh-8rem)] overflow-y-auto break-all"><nav id=TableOfContents><ul><li><a href=#比較>比較</a><ul><li><a href=#data-資料>Data 資料</a></li><li><a href=#computed-計算屬性>Computed 計算屬性</a></li><li><a href=#method-方法>Method 方法</a></li><li><a href=#整理>整理</a></li></ul></li><li><a href=#結語>結語</a></li></ul></nav></aside></div></div><footer class="mt-8 border-t border-black/20 py-4 dark:border-white/40"><div class="flex flex-col items-center justify-center"><button id=goto-top-button class="opacity-60 hover:opacity-100" aria-label="scroll to top">
回最上方🔺</button><div class=py-2><a class="inline-block h-6 w-6 opacity-60 hover:opacity-100" href=https://github.com/Sayoko123f title=Github><svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" viewBox="0 0 24 24"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></svg></a></div><div class="text-sm opacity-60">© 2023 Sayoko123f Powered
By Hugo</div></div></footer></body></html>