<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ç­†è¨˜ type-fest çš„ç”¨æ³•"><title>type-fest ç­†è¨˜ - Sayoko123f</title><link href=/css/output.min.c4693ba68e9ecf89a2003aee7767c665b633b7af354308c30bf4572b43a5588c.css rel=stylesheet><script src=/js/devblog.min.a33f45493dcfb1bd5d05eefcfbdc20ae2e6c793c0937d22bf03fddbe18bbdc0b.js defer></script>
<script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script></head><body class="bg-gray-50 text-black dark:bg-[#121212] dark:text-gray-100"><header class="flex h-11 items-center border-b border-black/20 px-4 dark:border-white/40"><nav class="mx-auto flex w-full max-w-4xl justify-between"><ul class="flex gap-4"><li><a class=font-bold href=https://sayoko123f.github.io/>é¦–é </a></li><li><a class=font-bold href=https://sayoko123f.github.io/p/>æ–‡ç« åˆ—è¡¨</a></li><li><a class=font-bold href=https://sayoko123f.github.io/about/>é—œæ–¼</a></li><li><a class=font-bold href=https://sayoko123f.github.io/tags/>åˆ†é¡</a></li></ul><ul class="flex gap-4"><li class="h-6 w-6"><a href=https://github.com/Sayoko123f title=github><svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" viewBox="0 0 24 24"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></svg></a></li><li class="h-6 w-6"><button class=text-sky-500 aria-label="toggle light dark mode"><svg class="inline-block h-full w-full dark:hidden" id="light-mode-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/></svg><svg class="hidden h-full w-full dark:inline-block" id="dark-mode-button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentcolor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg></button></li></ul></nav></header><div class="flex justify-center"><div class="hidden w-1/5 flex-grow lg:block"></div><div class="w-full max-w-2xl" id=content><main class=px-4><div class=py-4><div class=pb-2>2023å¹´8æœˆ25æ—¥</div><div class="flex gap-1 flex-wrap"><a class="rounded bg-stone-200 dark:bg-stone-800 px-2 py-1" href=https://sayoko123f.github.io/tags/typescript/>TypeScript</a></div></div><article class="prose max-w-none dark:prose-invert"><h1 id=type-fest-ç­†è¨˜>type-fest ç­†è¨˜</h1><p><a href=https://github.com/sindresorhus/type-fest>type-fest</a> æ˜¯åŒ…å« TypeScript å¯¦ç”¨åŠ©æ‰‹é¡å‹çš„åº«ã€‚</p><p>æœ¬è™•æ‰€æœ‰ä¾‹å­å¯è¤‡è£½è‡³ <a href=https://www.typescriptlang.org/play>TypeScript Playground</a> æŸ¥çœ‹ç·´ç¿’ã€‚</p><p><code>// @ts-expect-error</code> ä»£è¡¨é æœŸä¸‹ä¸€è¡Œ TS ç¨‹å¼ç¢¼æ˜¯æœ‰éŒ¯èª¤çš„ã€‚</p><blockquote><p>æœ¬æ–‡æ’°å¯«æ™‚ä½¿ç”¨çš„ TypeScript ç‰ˆæœ¬ç‚º 5.2.2</p></blockquote><h2 id=opaque-ä¸é€æ˜é¡å‹>Opaque ä¸é€æ˜é¡å‹</h2><blockquote><p>ä¸é€æ˜é¡å‹ä¹Ÿè¢«ç¨±ç‚ºå“ç‰Œé¡å‹(brand)</p></blockquote><p>æœ‰æ™‚å€™æˆ‘å€‘æœƒæƒ³è¦å‰µå»ºæ›´å®‰å…¨ã€æ›´å®¹æ˜“è¢«å€åˆ†çš„é¡å‹ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>User</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>username</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä½¿ç”¨è€…åç¨±èˆ‡å¯†ç¢¼éƒ½æ˜¯å­—ä¸²é¡å‹ï¼Œä½†å¾ˆé¡¯ç„¶é€™å…©å€‹æ±è¥¿ä¸æ‡‰è©²è¢«æ··æ·†ä½¿ç”¨ï¼ŒTypeScript æ²’è¾¦æ³•å€åˆ†é€™å…©è€…æœ‰ä½•ä¸åŒã€‚</p><p>é ä¸é€æ˜é¡å‹ï¼Œå¯ä»¥å”åŠ©æ¨™è¨˜æŸäº›ç‰¹åˆ¥é‡è¦ã€éœ€è¦æ˜é¡¯å€åˆ†çš„é¡å‹ã€‚</p><p>å¦‚æœæˆ‘å€‘è¦ºå¾— <code>User</code> çš„ <code>password</code> éœ€è¦æ˜é¡¯å€åˆ†ï¼Œå¯ä»¥é€™æ¨£å¯«ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Opaque</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>User</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>username</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>Opaque</span>&lt;<span style=color:#f92672>string</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>Password</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt;;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>declare</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>confirmPassword</span>(<span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>User</span>[<span style=color:#e6db74>&#39;password&#39;</span>])<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>declare</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span>: <span style=color:#66d9ef>User</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>confirmPassword</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>username</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>confirmPassword</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>password</span>);
</span></span></code></pre></div><h2 id=requireoneornone-å¿…å¡«ä¸€å€‹æˆ–ä¸å¡«>RequireOneOrNone å¿…å¡«ä¸€å€‹æˆ–ä¸å¡«</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RequireOneOrNone</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Options</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1?</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2?</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example1</span>: <span style=color:#66d9ef>RequireOneOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example2</span>: <span style=color:#66d9ef>RequireOneOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example3</span>: <span style=color:#66d9ef>RequireOneOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example4</span>: <span style=color:#66d9ef>RequireOneOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {}
</span></span></code></pre></div><p>ç¬¬äºŒå€‹æ³›å‹åƒæ•¸å¯ä»¥å¡«å…¥æœ‰å“ªäº› <code>key</code> è¦ç´å…¥åˆ¤æ–·ï¼Œé è¨­æ˜¯æ‰€æœ‰ <code>key</code>ï¼Œæœªè¢«ç´å…¥åˆ¤æ–·çš„ <code>key</code> ä¿æŒåŸæ¨£ã€‚</p><p>åº•ä¸‹æ˜¯ä¸€å€‹åªåˆ¤æ–· opt1 è·Ÿ opt2 çš„ä¾‹å­ï¼Œ opt3 æœªç´å…¥åˆ¤æ–·æ‰€ä»¥ä¿æŒåŸæ¨£(è‹¥å¿…å¡«å°±å¿…å¡«ï¼Œå¯é¸å°±å¯é¸)ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RequireOneOrNone</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Options</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1?</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2?</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt3?</span>: <span style=color:#66d9ef>number</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example5</span>: <span style=color:#66d9ef>RequireOneOrNone</span>&lt;<span style=color:#f92672>Options</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>opt1</span><span style=color:#960050;background-color:#1e0010>&#39;</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>opt2</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt3</span>: <span style=color:#66d9ef>1</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=requireexactlyone-å¿…å¡«ä¸€å€‹ä¸å¯è¶…é>RequireExactlyOne å¿…å¡«ä¸€å€‹ï¼Œä¸å¯è¶…é</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RequireExactlyOne</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Options</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example1</span>: <span style=color:#66d9ef>RequireExactlyOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example2</span>: <span style=color:#66d9ef>RequireExactlyOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example3</span>: <span style=color:#66d9ef>RequireExactlyOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example4</span>: <span style=color:#66d9ef>RequireExactlyOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {}
</span></span></code></pre></div><p>ç¬¬äºŒå€‹æ³›å‹åƒæ•¸å¯ä»¥å¡«å…¥æœ‰å“ªäº› <code>key</code> è¦ç´å…¥åˆ¤æ–·ï¼Œé è¨­æ˜¯æ‰€æœ‰ <code>key</code>ï¼Œæœªè¢«ç´å…¥åˆ¤æ–·çš„ <code>key</code> ä¿æŒåŸæ¨£ã€‚</p><h2 id=requireatleastone-è‡³å°‘å¡«ä¸€å€‹>RequireAtLeastOne è‡³å°‘å¡«ä¸€å€‹</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RequireAtLeastOne</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Options</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example1</span>: <span style=color:#66d9ef>RequireAtLeastOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example2</span>: <span style=color:#66d9ef>RequireAtLeastOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example3</span>: <span style=color:#66d9ef>RequireAtLeastOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example4</span>: <span style=color:#66d9ef>RequireAtLeastOne</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {}
</span></span></code></pre></div><p>ç¬¬äºŒå€‹æ³›å‹åƒæ•¸å¯ä»¥å¡«å…¥æœ‰å“ªäº› <code>key</code> è¦ç´å…¥åˆ¤æ–·ï¼Œé è¨­æ˜¯æ‰€æœ‰ <code>key</code>ï¼Œæœªè¢«ç´å…¥åˆ¤æ–·çš„ <code>key</code> ä¿æŒåŸæ¨£ã€‚</p><h2 id=requireallornone-å…¨å¡«æˆ–å…¨ä¸å¡«>RequireAllOrNone å…¨å¡«æˆ–å…¨ä¸å¡«</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>RequireAllOrNone</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Options</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example1</span>: <span style=color:#66d9ef>RequireAllOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example2</span>: <span style=color:#66d9ef>RequireAllOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ok
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example3</span>: <span style=color:#66d9ef>RequireAllOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt1</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>opt2</span>: <span style=color:#66d9ef>0</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example4</span>: <span style=color:#66d9ef>RequireAllOrNone</span>&lt;<span style=color:#f92672>Options</span>&gt; <span style=color:#f92672>=</span> {}
</span></span></code></pre></div><p>ç¬¬äºŒå€‹æ³›å‹åƒæ•¸å¯ä»¥å¡«å…¥æœ‰å“ªäº› <code>key</code> è¦ç´å…¥åˆ¤æ–·ï¼Œé è¨­æ˜¯æ‰€æœ‰ <code>key</code>ï¼Œæœªè¢«ç´å…¥åˆ¤æ–·çš„ <code>key</code> ä¿æŒåŸæ¨£ã€‚</p><h2 id=merge-åˆä½µ>Merge åˆä½µ</h2><p>Merge æœ‰å…©å€‹æ³›å‹åƒæ•¸ï¼Œç¬¬äºŒå€‹é¡å‹æœƒè¦†è“‹ç¬¬ä¸€å€‹é¡å‹ã€‚</p><blockquote><p>æ­¤é¡å‹åƒ…é€²è¡Œæ·ºå±¤åˆä½µï¼Œè«‹çœ‹ç¤ºä¾‹ä¸‰ï¼Œå¦‚æœéœ€è¦æ·±åº¦åˆä½µè«‹è¦‹ MergeDeep</p></blockquote><h3 id=ç¤ºä¾‹ä¸€>ç¤ºä¾‹ä¸€</h3><p>ç”¨ <code>Bar1</code> è¦†è“‹äº† <code>Foo1</code>ï¼Œæœ€çµ‚ <code>id</code> ç‚º <code>number</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>Merge</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Foo1</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Bar1</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example1</span>: <span style=color:#66d9ef>Merge</span>&lt;<span style=color:#f92672>Foo1</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Bar1</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>1</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ç¤ºä¾‹äºŒ>ç¤ºä¾‹äºŒ</h3><p><code>name</code> å¯é¸è¢«è¦†è“‹æˆå¿…å¡«çš„ä¾‹å­ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Foo2</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name?</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Bar2</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example2</span>: <span style=color:#66d9ef>Merge</span>&lt;<span style=color:#f92672>Foo2</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Bar2</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=ç¤ºä¾‹ä¸‰>ç¤ºä¾‹ä¸‰</h3><p><code>data</code> å¾ <code>{ foo: string; }</code> è¢«è¦†è“‹æˆ <code>{ bar: string; }</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Foo3</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>foo</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Bar3</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>bar</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example3</span>: <span style=color:#66d9ef>Merge</span>&lt;<span style=color:#f92672>Foo3</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Bar3</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>foo</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;foo&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>bar</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;bar&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=overrideproperties-è¦†è“‹>OverrideProperties è¦†è“‹</h2><p>å’Œ Merge é¡ä¼¼ï¼Œä¸åŒä¹‹è™•åœ¨æ–¼ç¬¬äºŒå€‹é¡å‹åªèƒ½æœ‰ç¬¬ä¸€å€‹é¡å‹å­˜åœ¨çš„ <code>key</code>ã€‚</p><p>åœ¨æƒ³è¦ä¿®æ”¹åŸå§‹é¡å‹è€Œä¸å¢åŠ é¡å¤–çš„å±¬æ€§æ™‚ï¼Œä½¿ç”¨æ­¤é¡å‹æ¯” Merge æ›´å®‰å…¨ã€‚</p><p>ä¸‹ä¾‹å› ç‚ºç¬¬äºŒå€‹é¡å‹ <code>Bar</code> æœ‰ç¬¬ä¸€å€‹é¡å‹æ²’æœ‰çš„ <code>bar</code> å±¬æ€§ï¼Œæ‰€ä»¥å ±éŒ¯ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>OverrideProperties</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Foo</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Bar</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bar</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// @ts-expect-error
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example</span>: <span style=color:#66d9ef>OverrideProperties</span>&lt;<span style=color:#f92672>Foo</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Bar</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bar</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;1&#39;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=mergedeep-æ·±åº¦åˆä½µ>MergeDeep æ·±åº¦åˆä½µ</h2><p>Merge çš„æ·±åº¦åˆä½µç‰ˆæœ¬ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Foo</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>foo</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Bar</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>bar</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>example</span>: <span style=color:#66d9ef>MergeDeep</span>&lt;<span style=color:#f92672>Foo</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>Bar</span>&gt; <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>foo</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;foo&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>bar</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;bar&#39;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=literalunion-å­—é¢é‡è¯åˆé¡å‹>LiteralUnion å­—é¢é‡è¯åˆé¡å‹</h2><p>é€™æ˜¯ç‚ºäº†æ‡‰å° TypeScript çš„å·²çŸ¥é™åˆ¶è€Œèª•ç”Ÿçš„é¡å‹(è©³æƒ…è«‹è¦‹ <a href=https://github.com/Microsoft/TypeScript/issues/29729>issue</a>)</p><p>ç•¶æˆ‘å€‘åœ¨æ’°å¯«ä¸€å€‹ <code>Color</code> å­—ä¸²è¯åˆé¡å‹æ™‚ï¼Œæˆ‘å€‘å¸Œæœ›å…è¨± <code>#ffffff</code> é€™æ¨£çš„ä»»æ„å­—ä¸²ï¼Œä½†ä¹Ÿå¸Œæœ›æä¾› <code>'black'</code> çš„é å®šç¾©é¡è‰²ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;black&#39;</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mycolor</span>: <span style=color:#66d9ef>Color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span></code></pre></div><p>ä½†æ˜¯é€™æœƒç”¢ç”Ÿåœ¨ç·¨è¼¯å™¨ä¸­å¤±å»è‡ªå‹•å®ŒæˆåŠŸèƒ½çš„å•é¡Œã€‚ç‚ºäº†æ‡‰å°é€™å€‹å•é¡Œï¼Œåˆ©ç”¨ <code>LiteralUnion</code> æ”¹å¯«å³å¯ä¿ç•™è‡ªå‹•å®ŒæˆåŠŸèƒ½ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>LiteralUnion</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>LiteralUnion</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;black&#39;</span>, <span style=color:#66d9ef>string</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>mycolor</span>: <span style=color:#66d9ef>Color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span></code></pre></div><h2 id=valueof-å–ç‰©ä»¶å±¬æ€§å€¼çš„è¯åˆé¡å‹>ValueOf å–ç‰©ä»¶å±¬æ€§å€¼çš„è¯åˆé¡å‹</h2><p>å’Œ <code>T[keyof T]</code> ä¸€æ¨£ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>ValueOf</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Person</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>location</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>lat</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>lng</span>: <span style=color:#66d9ef>number</span>]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ValueOf</span>&lt;<span style=color:#f92672>Person</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>// type A = string | number | [lat: number, lng: number]
</span></span></span></code></pre></div><p>ç¬¬äºŒå€‹æ³›å‹åƒæ•¸å¯ä»¥æŒ‡å®šè¦å“ªå¹¾å€‹ key çš„é¡å‹ï¼Œé è¨­æ˜¯å…¨éƒ¨ã€‚</p><h2 id=conditionalkeys-å–ç¬¦åˆæ¢ä»¶çš„-key>ConditionalKeys å–ç¬¦åˆæ¢ä»¶çš„ Key</h2><p>ç”¨ä¾†å–å¾—ç‰©ä»¶ä¸­ç¬¦åˆæ¢ä»¶çš„ keyã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>ConditionalKeys</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;type-fest&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Person</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>age</span>: <span style=color:#66d9ef>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>location</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>lat</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>lng</span>: <span style=color:#66d9ef>number</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>address</span>: <span style=color:#66d9ef>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ConditionalKeys</span>&lt;<span style=color:#f92672>Person</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>string</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>// type A = &#34;name&#34; | &#34;address&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ConditionalKeys</span>&lt;<span style=color:#f92672>Person</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>string</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#a6e22e>number</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>// type B = &#34;name&#34; | &#34;age&#34; | &#34;address&#34;
</span></span></span></code></pre></div></article><div class="mt-8 border-t py-4"><div class="flex justify-between gap-8"><div class=w-1/2><a href=https://sayoko123f.github.io/p/vue3-vee-vaildate/>ä¸Šä¸€ç¯‡æ–‡ç« <br>Vue 3 è¡¨å–®é©—è­‰ Vee Vaildate 4 (ä½¿ç”¨çµ„åˆå¼API)</a></div><div class="w-1/2 text-right"><a href=https://sayoko123f.github.io/p/what-is-tnumber/>ä¸‹ä¸€ç¯‡æ–‡ç« <br>T[number] æ˜¯ä»€éº¼</a></div></div></div></main></div><div class="relative hidden w-1/5 flex-grow lg:block"><aside class="fixed mt-3 h-full max-h-[calc(100vh-8rem)] overflow-y-auto break-all"><nav id=TableOfContents><ul><li><a href=#opaque-ä¸é€æ˜é¡å‹>Opaque ä¸é€æ˜é¡å‹</a></li><li><a href=#requireoneornone-å¿…å¡«ä¸€å€‹æˆ–ä¸å¡«>RequireOneOrNone å¿…å¡«ä¸€å€‹æˆ–ä¸å¡«</a></li><li><a href=#requireexactlyone-å¿…å¡«ä¸€å€‹ä¸å¯è¶…é>RequireExactlyOne å¿…å¡«ä¸€å€‹ï¼Œä¸å¯è¶…é</a></li><li><a href=#requireatleastone-è‡³å°‘å¡«ä¸€å€‹>RequireAtLeastOne è‡³å°‘å¡«ä¸€å€‹</a></li><li><a href=#requireallornone-å…¨å¡«æˆ–å…¨ä¸å¡«>RequireAllOrNone å…¨å¡«æˆ–å…¨ä¸å¡«</a></li><li><a href=#merge-åˆä½µ>Merge åˆä½µ</a><ul><li><a href=#ç¤ºä¾‹ä¸€>ç¤ºä¾‹ä¸€</a></li><li><a href=#ç¤ºä¾‹äºŒ>ç¤ºä¾‹äºŒ</a></li><li><a href=#ç¤ºä¾‹ä¸‰>ç¤ºä¾‹ä¸‰</a></li></ul></li><li><a href=#overrideproperties-è¦†è“‹>OverrideProperties è¦†è“‹</a></li><li><a href=#mergedeep-æ·±åº¦åˆä½µ>MergeDeep æ·±åº¦åˆä½µ</a></li><li><a href=#literalunion-å­—é¢é‡è¯åˆé¡å‹>LiteralUnion å­—é¢é‡è¯åˆé¡å‹</a></li><li><a href=#valueof-å–ç‰©ä»¶å±¬æ€§å€¼çš„è¯åˆé¡å‹>ValueOf å–ç‰©ä»¶å±¬æ€§å€¼çš„è¯åˆé¡å‹</a></li><li><a href=#conditionalkeys-å–ç¬¦åˆæ¢ä»¶çš„-key>ConditionalKeys å–ç¬¦åˆæ¢ä»¶çš„ Key</a></li></ul></nav></aside></div></div><footer class="mt-8 border-t border-black/20 py-4 dark:border-white/40"><div class="flex flex-col items-center justify-center"><button id=goto-top-button class="opacity-60 hover:opacity-100" aria-label="scroll to top">
å›æœ€ä¸Šæ–¹ğŸ”º</button><div class=py-2><a class="inline-block h-6 w-6 opacity-60 hover:opacity-100" href=https://github.com/Sayoko123f title=Github><svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" viewBox="0 0 24 24"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></svg></a></div><div class="text-sm opacity-60">Â© 2023 Sayoko123f Powered
By Hugo</div></div></footer></body></html>